import{f as v,j as e,a as S,b as w,u as E,o as L,h as q,r as j,l as z,e as H,g as B}from"./app-6ee96508.js";import{u as A}from"./index.esm-90e18972.js";import{L as O}from"./Layout-c811f2ab.js";import{b as T,F as y,a as b,I as W}from"./chunk-GYFRIY2Z-7fca9c88.js";import{N as D,a as M}from"./chunk-GIDWA67N-b3779854.js";import{C as R,H as Q}from"./chunk-SRMZVY4F-43ff4d39.js";import{B as V,a as f}from"./chunk-6CSUKJP7-fcd20118.js";import{T as Y}from"./chunk-OEQDSMWZ-fd3d3a19.js";import{S as G}from"./chunk-O5CRURSQ-98be0be1.js";import{F as J}from"./chunk-MPFPK3CX-2323f675.js";var C=v(function(i,s){const{children:n,placeholder:l,className:o,...d}=i;return e.jsxs(S.select,{...d,ref:s,className:w("chakra-select",o),children:[l&&e.jsx("option",{value:"",children:l}),n]})});C.displayName="SelectField";function K(r,i){const s={},n={};for(const[l,o]of Object.entries(r))i.includes(l)?s[l]=o:n[l]=o;return[s,n]}var I=v((r,i)=>{var s;const n=E("Select",r),{rootProps:l,placeholder:o,icon:d,color:m,height:p,h:u,minH:h,minHeight:x,iconColor:t,iconSize:c,...a}=L(r),[N,P]=K(a,z),g=T(P),F={width:"100%",height:"fit-content",position:"relative",color:m},k={paddingEnd:"2rem",...n.field,_focus:{zIndex:"unset",...(s=n.field)==null?void 0:s._focus}};return e.jsxs(S.div,{className:"chakra-select__wrapper",__css:F,...N,...l,children:[e.jsx(C,{ref:i,height:u??p,minH:h??x,placeholder:o,...g,__css:k,children:r.children}),e.jsx(_,{"data-disabled":q(g.disabled),...(t||m)&&{color:t||m},__css:n.icon,...c&&{fontSize:c},children:d})]})});I.displayName="Select";var U=r=>e.jsx("svg",{viewBox:"0 0 24 24",...r,children:e.jsx("path",{fill:"currentColor",d:"M16.59 8.59L12 13.17 7.41 8.59 6 10l6 6 6-6z"})}),X=S("div",{baseStyle:{position:"absolute",display:"inline-flex",alignItems:"center",justifyContent:"center",pointerEvents:"none",top:"50%",transform:"translateY(-50%)"}}),_=r=>{const{children:i=e.jsx(U,{}),...s}=r,n=j.cloneElement(i,{role:"presentation",className:"chakra-select__icon",focusable:!1,"aria-hidden":!0,style:{width:"1em",height:"1em",color:"currentColor"}});return e.jsx(X,{...s,className:"chakra-select__icon-wrapper",children:j.isValidElement(i)?n:null})};_.displayName="SelectIcon";const le=({auth:r,products:i})=>{const{register:s,handleSubmit:n,formState:l}=A(),[o,d]=j.useState([]),m=t=>{B.Inertia.post("/orders",{...t,products:o})},p=()=>{d([...o,{productId:"",quantity:1}])},u=(t,c)=>{const a=[...o];a[c].productId=t.target.value,d(a)},h=(t,c)=>{const a=[...o];a[c].quantity=t,d(a)},x=i.map(t=>e.jsx("option",{value:t.id,children:t.name},t.id));return e.jsx(O,{auth:r,children:e.jsx(R,{maxW:"container.lg",children:e.jsxs(V,{maxW:"xl",mx:"auto",mt:5,children:[e.jsx(Q,{as:"h1",size:"xl",mb:5,children:"Create Order"}),e.jsxs("form",{onSubmit:n(m),children:[e.jsxs(y,{id:"name",mb:5,children:[e.jsx(b,{children:"Name"}),e.jsx(W,{...s("name",{required:!0}),type:"text",placeholder:"Enter order name"})]}),e.jsxs(y,{id:"description",mb:5,children:[e.jsx(b,{children:"Description"}),e.jsx(Y,{...s("description",{required:!0}),placeholder:"Enter order description"})]}),o.map((t,c)=>e.jsxs(G,{direction:"row",spacing:4,align:"center",children:[e.jsx(I,{placeholder:"Select product",value:t.productId,onChange:a=>u(a,c),children:x}),e.jsx(D,{min:1,value:t.quantity,onChange:a=>h(a,c),children:e.jsx(M,{})})]},c)),e.jsx(f,{onClick:p,mt:3,children:"Add Product"}),e.jsxs(J,{justifyContent:"flex-end",mt:5,children:[e.jsx(H,{href:"/orders",children:e.jsx(f,{colorScheme:"red",mr:3,children:"Cancel"})}),e.jsx(f,{colorScheme:"teal",isLoading:l.isSubmitting,type:"submit",children:"Create"})]})]})]})})})};export{le as default};
